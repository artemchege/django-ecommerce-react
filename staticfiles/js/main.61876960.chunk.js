(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,r){},116:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(27),c=r.n(a),s=(r(86),r(129)),i=r(131),o=r(126),d=r(15),l=r(6),j=r(8),u=r.n(j),p=r(11),h="USER_LOGIN_REQUEST",b="USER_LOGIN_SUCCESS",O="USER_LOGIN_FAIL",x="USER_LOGOUT",m="USER_REGISTER_REQUEST",f="USER_REGISTER_SUCCESS",g="USER_REGISTER_FAIL",v="USER_DETAILS_REQUEST",y="USER_DETAILS_SUCCESS",E="USER_DETAILS_FAIL",I="USER_UPDATE_PROFILE_REQUEST",S="USER_UPDATE_PROFILE_SUCCESS",C="USER_UPDATE_PROFILE_FAIL",_="USER_LIST_REQUEST",k="USER_LIST_SUCCESS",L="USER_LIST_FAIL",R="USER_LIST_RESET",T="USER_DELETE_REQUEST",w="USER_DELETE_SUCCESS",A="USER_DELETE_FAIL",D="USER_UPDATE_REQUEST",P="USER_UPDATE_SUCCESS",U="USER_UPDATE_FAIL",N="USER_UPDATE_RESET",G="ORDER_CREATE_REQUEST",F="ORDER_SUCCESS_REQUEST",B="ORDER_FAIL_REQUEST",M="ORDER_CREATE_RESET",q="ORDER_DETAILS_REQUEST",Q="ORDER_DETAILS_SUCCESS",$="ORDER_DETAILS_FAIL",z="ORDER_LIST_MY_REQUEST",V="ORDER_LIST_MY_SUCCESS",J="ORDER_LIST_MY_FAIL",Y="ORDER_LIST_MY_RESET",W="ORDER_LIST_REQUEST",H="ORDER_LIST_SUCCESS",X="ORDER_LIST_FAIL",K="ORDER_DELIVERED_REQUEST",Z="ORDER_DELIVERED_SUCCESS",ee="ORDER_DELIVERED_FAIL",te=r(12),re=r.n(te),ne=function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,n){var a,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:v}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,re.a.get("/api/users/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:y,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:E,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},ae=r(9),ce=r(127),se=r(77),ie=r(17),oe=r(0);var de=function(){var e=Object(n.useState)(""),t=Object(ae.a)(e,2),r=t[0],a=t[1],c=Object(ie.k)();return Object(oe.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),r?c.push("/?keyword=".concat(r,"&page=1")):c.push(c.push(c.location.pathname))},inline:!0,children:[Object(oe.jsx)(ce.a.Control,{type:"text",name:"q",onChange:function(e){return a(e.target.value)},className:"mr-1 ml-1"}),Object(oe.jsx)(se.a,{type:"submit",variant:"success outlined",className:"p-2 mr-4",children:"Search"})]})};var le=function(){var e=Object(ie.k)(),t=Object(l.b)(),r=Object(l.c)((function(e){return e.userLogin})).userInfo;return Object(oe.jsx)("header",{children:Object(oe.jsxs)(s.a,{bg:"light",expand:"lg",children:[Object(oe.jsx)(d.LinkContainer,{to:"/",children:Object(oe.jsx)(s.a.Brand,{children:"Favorite Bookshop"})}),Object(oe.jsx)(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(oe.jsxs)(s.a.Collapse,{id:"basic-navbar-nav",children:[Object(oe.jsx)(de,{}),Object(oe.jsxs)(i.a,{className:"mr-auto",children:[Object(oe.jsx)(d.LinkContainer,{to:"/cart",children:Object(oe.jsxs)(i.a.Link,{children:[Object(oe.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})}),r?Object(oe.jsxs)(o.a,{title:r.name,id:"username",children:[Object(oe.jsx)(d.LinkContainer,{to:"/profile",children:Object(oe.jsx)(o.a.Item,{children:"Profile"})}),Object(oe.jsx)(o.a.Item,{onClick:function(){t(function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo",null),t({type:x}),t({type:Y}),t({type:R});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.push("/")},children:"Logout"})]}):Object(oe.jsx)(d.LinkContainer,{to:"/login",children:Object(oe.jsxs)(i.a.Link,{children:[Object(oe.jsx)("i",{className:"fas fa-user"}),"Login"]})}),r&&r.isAdmin&&Object(oe.jsxs)(o.a,{title:"Admin panel",id:"adminmenu",children:[Object(oe.jsx)(d.LinkContainer,{to:"/admin/userlist/",children:Object(oe.jsx)(o.a.Item,{children:"Users"})}),Object(oe.jsx)(d.LinkContainer,{to:"/admin/productlist/",children:Object(oe.jsx)(o.a.Item,{children:"Products"})}),Object(oe.jsx)(d.LinkContainer,{to:"/admin/orderlist/",children:Object(oe.jsx)(o.a.Item,{children:"Orders"})})]})]})]})]})})},je=r(121),ue=r(122),pe=r(76);var he=function(){return Object(oe.jsx)("footer",{children:Object(oe.jsx)(je.a,{children:Object(oe.jsx)(ue.a,{children:Object(oe.jsx)(pe.a,{className:"text-center py-3",children:"Copyright ArtemChege INC."})})})})},be=r(54),Oe=r(55),xe=r(58),me=r(56),fe=r(132),ge=function(e){Object(xe.a)(r,e);var t=Object(me.a)(r);function r(){return Object(be.a)(this,r),t.apply(this,arguments)}return Object(Oe.a)(r,[{key:"render",value:function(){return Object(oe.jsxs)("div",{className:"rating",children:[Object(oe.jsx)("span",{children:Object(oe.jsx)("i",{className:this.props.value>=1?"fas fa-star":this.props.value>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(oe.jsx)("span",{children:Object(oe.jsx)("i",{className:this.props.value>=2?"fas fa-star":this.props.value>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(oe.jsx)("span",{children:Object(oe.jsx)("i",{className:this.props.value>=3?"fas fa-star":this.props.value>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(oe.jsx)("span",{children:Object(oe.jsx)("i",{className:this.props.value>=4?"fas fa-star":this.props.value>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(oe.jsx)("span",{children:Object(oe.jsx)("i",{className:this.props.value>=5?"fas fa-star":this.props.value>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(oe.jsx)("div",{children:this.props.text?this.props.text:""})]})}}]),r}(n.Component),ve=r(10),ye=function(e){Object(xe.a)(r,e);var t=Object(me.a)(r);function r(){return Object(be.a)(this,r),t.apply(this,arguments)}return Object(Oe.a)(r,[{key:"render",value:function(){return Object(oe.jsxs)(fe.a,{className:"my-3 p-3 rounded",children:[Object(oe.jsx)(ve.Link,{to:"product/".concat(this.props.product._id),children:Object(oe.jsx)(fe.a.Img,{style:{height:"400px"},src:this.props.product.image})}),Object(oe.jsxs)(fe.a.Body,{children:[Object(oe.jsx)(ve.Link,{to:"product/".concat(this.props.product._id),children:Object(oe.jsx)(fe.a.Title,{children:this.props.product.name})}),Object(oe.jsx)(fe.a.Text,{as:"div",children:Object(oe.jsx)("div",{className:"my-3",children:Object(oe.jsx)(ge,{value:this.props.product.rating,text:this.props.product.numReviews+" reviews",color:"#f8e825"})})}),Object(oe.jsxs)(fe.a.Text,{as:"h4",children:[this.props.product.price," ","$"]})]})]})}}]),r}(n.Component),Ee=r(123);function Ie(){return Object(oe.jsx)(Ee.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(oe.jsx)("span",{className:"sr-only",children:"Loading..."})})}var Se=r(30),Ce=r(133);var _e=function(e){var t=e.pages,r=e.page,n=e.keyword,a=void 0===n?"":n,c=e.isAdmin,s=void 0!==c&&c;return a&&(a=a.split("?keyword=")[1].split("&")[0]),t>1&&Object(oe.jsx)(Ce.a,{children:Object(Se.a)(Array(t).keys()).map((function(e){return Object(oe.jsx)(d.LinkContainer,{to:s?"/admin/productlist/?keyword=".concat(a,"&page=").concat(e+1):"/?keyword=".concat(a,"&page=").concat(e+1),children:Object(oe.jsx)(Ce.a.Item,{active:e+1===r,children:e+1})},e+1)}))})},ke=r(130);function Le(e){var t=e.variant,r=e.children;return Object(oe.jsx)(ke.a,{variant:t,children:r})}var Re=r(128),Te=r(124),we="PRODUCT_LIST_REQUEST",Ae="PRODUCT_LIST_SUCCESS",De="PRODUCT_LIST_FAIL",Pe="PRODUCT_DETAIL_REQUEST",Ue="PRODUCT_DETAIL_SUCCESS",Ne="PRODUCT_DETAIL_FAIL",Ge="PRODUCT_DELETE_REQUEST",Fe="PRODUCT_DELETE_SUCCESS",Be="PRODUCT_DELETE_FAIL",Me="PRODUCT_CREATE_REQUEST",qe="PRODUCT_CREATE_SUCCESS",Qe="PRODUCT_CREATE_FAIL",$e="PRODUCT_CREATE_RESET",ze="PRODUCT_UPDATE_REQUEST",Ve="PRODUCT_UPDATE_SUCCESS",Je="PRODUCT_UPDATE_FAIL",Ye="PRODUCT_UPDATE_RESET",We="PRODUCT_CREATE_REVIEW_REQUEST",He="PRODUCT_CREATE_REVIEW_SUCCESS",Xe="PRODUCT_CREATE_REVIEW_FAIL",Ke="PRODUCT_CREATE_REVIEW_RESET",Ze="PRODUCT_TOP_REQUEST",et="PRODUCT_TOP_SUCCESS",tt="PRODUCT_TOP_FAIL",rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(p.a)(u.a.mark((function t(r){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:we}),t.next=4,re.a.get("/api/products".concat(e));case 4:n=t.sent,a=n.data,r({type:Ae,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:De,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},nt=function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Pe}),t.next=4,re.a.get("/api/products/"+e);case 4:n=t.sent,a=n.data,r({type:Ue,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Ne,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};var at=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.productTop})),r=t.topProducts,a=t.error,c=t.loading;return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ze}),e.next=4,re.a.get("/api/products/top/");case 4:n=e.sent,a=n.data,t({type:et,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:tt,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}())}),[]),Object(oe.jsx)("div",{children:c?Object(oe.jsx)(Ie,{}):a?Object(oe.jsx)(Le,{variant:"danger",children:a}):Object(oe.jsx)(Re.a,{pause:"hover",className:"bg-light",children:r.map((function(e){return Object(oe.jsx)(Re.a.Item,{children:Object(oe.jsxs)(ve.Link,{to:"/prouct/".concat(e._id),children:[Object(oe.jsx)(Te.a,{src:e.image,alt:e.name,fluid:!0}),Object(oe.jsx)(Re.a.Caption,{className:"carousel.caption",children:Object(oe.jsx)("h4",{children:e.name})})]})},e._id)}))})})};function ct(e){var t=e.history,r=Object(l.b)(),a=Object(l.c)((function(e){return e.productList})),c=a.error,s=a.loading,i=a.products,o=a.page,d=a.pages,j=t.location.search;return Object(n.useEffect)((function(){r(rt(j))}),[r,j]),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("h1",{className:"my-4",children:" The best choice"}),!j&&Object(oe.jsx)(at,{className:"my-4"}),Object(oe.jsx)("h1",{className:"my-4",children:"Latest products"}),s?Object(oe.jsx)(Ie,{}):null,c?Object(oe.jsx)(Le,{variant:"danger",children:c}):Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ue.a,{children:i.map((function(e){return Object(oe.jsx)(pe.a,{sm:12,md:6,lg:4,xl:3,children:Object(oe.jsx)(ye,{product:e})},e._id)}))}),Object(oe.jsx)(_e,{page:o,pages:d,keyword:j})]})]})}var st=r(134);function it(e){var t=e.match,r=e.history,a=Object(n.useState)(1),c=Object(ae.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(0),d=Object(ae.a)(o,2),j=d[0],h=d[1],b=Object(n.useState)(""),O=Object(ae.a)(b,2),x=O[0],m=O[1],f=Object(l.b)(),g=Object(l.c)((function(e){return e.productDetails})),v=g.error,y=g.loading,E=g.product,I=Object(l.c)((function(e){return e.userLogin})).userInfo,S=Object(l.c)((function(e){return e.productReviewCreate})),C=S.loading,_=S.success,k=S.error;Object(n.useEffect)((function(){_&&(h(0),m(""),f({type:Ke})),f(nt(t.params.id))}),[f,t,_]);return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ve.Link,{to:"/",className:"btn btn-light my-3",children:"Back to shop"}),y?Object(oe.jsx)(Ie,{}):v?Object(oe.jsx)(Le,{variant:"danger",children:v}):Object(oe.jsxs)("div",{children:[Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{md:6,children:Object(oe.jsx)(Te.a,{src:E.image,alt:E.name,fluid:!0})}),Object(oe.jsx)(pe.a,{md:3,children:Object(oe.jsxs)(st.a,{variant:"flush",children:[Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h3",{children:E.name}),Object(oe.jsx)(ge,{value:E.rating,text:E.numReviews+" reviews"})]}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)("h4",{children:["Price: ",E.price,"$"]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)("span",{children:["Description: ",E.description]})})]})}),Object(oe.jsx)(pe.a,{md:3,children:Object(oe.jsx)(fe.a,{className:"p-2",children:Object(oe.jsxs)(st.a,{variant:"flush",children:[Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Status:"}),Object(oe.jsx)(pe.a,{children:E.countInStock>0?"In stock":"empty"})]})}),E.countInStock>0&&Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Qty"}),Object(oe.jsx)(pe.a,{xs:"auto",className:"my-1",children:Object(oe.jsx)(ce.a.Control,{as:"select",value:s,onChange:function(e){return i(e.target.value)},children:Object(Se.a)(Array(E.countInStock).keys()).map((function(e){return Object(oe.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsx)(se.a,{onClick:function(){r.push("/cart/".concat(t.params.id,"?qty=").concat(s))},className:E.countInStock>0?"btn btn-block":"btn btn-block disabled",type:"button",children:"Add to cart"})})]})})})]}),Object(oe.jsx)(ue.a,{children:Object(oe.jsxs)(pe.a,{md:6,className:"my-4",children:[Object(oe.jsx)("h4",{children:"Reviews"}),0===E.reviews.length&&Object(oe.jsx)(Le,{variant:"info",children:"There is no reviews"}),Object(oe.jsxs)(st.a,{variant:"flush",children:[E.reviews.map((function(e){return Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h5",{children:e.name}),Object(oe.jsx)(ge,{value:e.rating}),Object(oe.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(oe.jsx)("p",{children:e.comment})]},e._id)})),Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h4",{children:"Write a review"}),C&&Object(oe.jsx)(Ie,{}),_&&Object(oe.jsx)(Le,{variant:"info",children:"Review submitted"}),k&&Object(oe.jsx)(Le,{variant:"danger",children:k}),I?Object(oe.jsxs)(ce.a,{onSubmit:function(e){var t,r;e.preventDefault(),f((t=E._id,r={rating:j,comment:x},function(){var e=Object(p.a)(u.a.mark((function e(n,a){var c,s,i,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:We}),c=a(),s=c.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,re.a.post("/api/products/".concat(t,"/reviews/"),r,i);case 6:o=e.sent,d=o.data,n({type:He,payload:d}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:Xe,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(oe.jsxs)(ce.a.Group,{controlId:"rating",children:[Object(oe.jsx)(ce.a.Label,{children:"Rating"}),Object(oe.jsxs)(ce.a.Control,{as:"select",value:j,onChange:function(e){return h(e.target.value)},children:[Object(oe.jsx)("option",{value:"",children:"Select..."}),Object(oe.jsx)("option",{value:"1",children:"1 - shitty "}),Object(oe.jsx)("option",{value:"2",children:"2 - hm..."}),Object(oe.jsx)("option",{value:"3",children:"3 - not bad"}),Object(oe.jsx)("option",{value:"4",children:"4 - nice one"}),Object(oe.jsx)("option",{value:"5",children:"5 - the choice of my life"})]})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"comment",children:[Object(oe.jsx)(ce.a.Label,{children:"Review"}),Object(oe.jsx)(ce.a.Control,{as:"textarea",row:5,value:x,onChange:function(e){return m(e.target.value)}})]}),Object(oe.jsx)(se.a,{className:"btn btn-block",disabled:C,type:"submit",children:"Sumbit"})]}):Object(oe.jsxs)(Le,{variant:"info",children:["To comment you must ",Object(oe.jsx)(ve.Link,{to:"/login",children:"login"})]})]})]})]})})]})]})}var ot="CART_ADD_ITEM",dt="CART_REMOVE_ITEM",lt="CART_SAVE_SHIPPING_ADDRESS_ITEM",jt="CART_SAVE_PAYMENT_METHOD",ut="CART_CLEAR_ITEMS",pt=function(e,t){return function(){var r=Object(p.a)(u.a.mark((function r(n,a){var c,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,re.a.get("/api/products/"+e);case 2:c=r.sent,s=c.data,n({type:ot,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()};function ht(e){var t=e.match,r=e.location,a=e.history,c=t.params.id,s=r.search?Number(r.search.split("=")[1]):1,i=Object(l.b)(),o=Object(l.c)((function(e){return e.cart})).cartItems;Object(n.useEffect)((function(){c&&i(pt(c,s))}),[i,c,s]);var d=function(e){i(function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:dt,payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(oe.jsxs)(ue.a,{children:[Object(oe.jsxs)(pe.a,{md:8,children:[Object(oe.jsx)("h1",{className:"my-4",children:"Shopping Cart"}),0===o.length?Object(oe.jsxs)(Le,{variant:"info",children:["Your cart is empty ",Object(oe.jsx)(ve.Link,{to:"/",children:"Go Back"})]}):Object(oe.jsx)(st.a,{variant:"flush",children:o.map((function(e){return Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{md:2,children:Object(oe.jsx)(Te.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(oe.jsx)(pe.a,{md:3,children:Object(oe.jsx)(ve.Link,{to:"/products/".concat(e.product),children:e.name})}),Object(oe.jsxs)(pe.a,{md:2,children:[e.price,"$"]}),Object(oe.jsx)(pe.a,{md:3,children:Object(oe.jsx)(ce.a.Control,{as:"select",value:e.qty,onChange:function(t){return i(pt(e.product,Number(t.target.value)))},children:Object(Se.a)(Array(e.countInStock).keys()).map((function(e){return Object(oe.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(oe.jsx)(pe.a,{md:1,children:Object(oe.jsx)(se.a,{type:"button",variant:"light",onClick:function(){return d(e.product)},children:Object(oe.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(oe.jsx)(pe.a,{md:4,children:Object(oe.jsxs)(fe.a,{className:"my-4",children:[Object(oe.jsxs)(st.a,{variant:"flush",children:[Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)("h2",{children:["Subtotal ",o.reduce((function(e,t){return e+t.qty}),0)," "]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)("h6",{children:["Total price: ",o.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2),"$"]})})]}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsx)(se.a,{type:"button",className:"btn-block",disabled:0===o.length,onClick:function(){a.push("/shipping")},children:"Checkout"})})]})})]})}var bt=function(e){var t=e.children;return Object(oe.jsx)(je.a,{children:Object(oe.jsx)(ue.a,{className:"justify-content-md-center",children:Object(oe.jsx)(pe.a,{xs:12,md:8,children:t})})})};var Ot=function(e){var t=e.location,r=e.history,a=Object(n.useState)(""),c=Object(ae.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),d=Object(ae.a)(o,2),j=d[0],x=d[1],m=t.search?t.search.split("=")[1]:"/",f=Object(l.b)(),g=Object(l.c)((function(e){return e.userLogin})),v=g.loading,y=g.userInfo,E=g.error;return Object(n.useEffect)((function(){y&&r.push(m)}),[y,m,E]),Object(oe.jsxs)(bt,{children:[Object(oe.jsx)("h1",{className:"my-4",children:"Sign in"}),E&&Object(oe.jsxs)(Le,{variant:"danger",className:"my-4",children:["Oops! ",E]}),v&&Object(oe.jsx)(Ie,{}),Object(oe.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var r=Object(p.a)(u.a.mark((function r(n){var a,c,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:h}),a={headers:{"Content-type":"application/json"}},r.next=5,re.a.post("/api/users/login/",{username:e,password:t},a);case 5:c=r.sent,s=c.data,n({type:b,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:O,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(s,j))},className:"my-4",children:[Object(oe.jsxs)(ce.a.Group,{controlId:"email",children:[Object(oe.jsx)(ce.a.Label,{children:"Email address"}),Object(oe.jsx)(ce.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"password",children:[Object(oe.jsx)(ce.a.Label,{children:"Password"}),Object(oe.jsx)(ce.a.Control,{type:"password",placeholder:"Enter password",value:j,onChange:function(e){return x(e.target.value)}})]}),Object(oe.jsx)(se.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(oe.jsx)(ue.a,{children:Object(oe.jsxs)(pe.a,{children:["New? ",Object(oe.jsx)(ve.Link,{to:m?"/register?redirect=".concat(m):"/register",children:"Registration"})]})})]})};var xt=function(e){var t=e.location,r=e.history,a=Object(n.useState)(""),c=Object(ae.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),d=Object(ae.a)(o,2),j=d[0],h=d[1],O=Object(n.useState)(""),x=Object(ae.a)(O,2),v=x[0],y=x[1],E=Object(n.useState)(""),I=Object(ae.a)(E,2),S=I[0],C=I[1],_=Object(n.useState)(""),k=Object(ae.a)(_,2),L=k[0],R=k[1],T=t.search?t.search.split("=")[1]:"/",w=Object(l.b)(),A=Object(l.c)((function(e){return e.userRegister})),D=A.loading,P=A.userInfo,U=A.error;return Object(n.useEffect)((function(){P&&r.push(T)}),[P,T,U]),Object(oe.jsxs)(bt,{children:[Object(oe.jsx)("h1",{className:"my-4",children:"Register"}),U&&Object(oe.jsxs)(Le,{variant:"danger",className:"my-4",children:["Oops! ",U]}),D&&Object(oe.jsx)(Ie,{}),L&&Object(oe.jsxs)(Le,{variant:"danger",className:"my-4",children:["Oops! ",L]}),Object(oe.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),v!=S?R("Passwords do not match"):w(function(e,t,r){return function(){var n=Object(p.a)(u.a.mark((function n(a){var c,s,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:m}),c={headers:{"Content-type":"application/json"}},n.next=5,re.a.post("/api/users/register/",{name:e,email:t,password:r},c);case 5:s=n.sent,i=s.data,a({type:f,payload:i}),a({type:b,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),a({type:g,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(s,j,v))},className:"my-4",children:[Object(oe.jsxs)(ce.a.Group,{controlId:"name",children:[Object(oe.jsx)(ce.a.Label,{children:"Name"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"email",children:[Object(oe.jsx)(ce.a.Label,{children:"Email address"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"email",placeholder:"Enter email",value:j,onChange:function(e){return h(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"password",children:[Object(oe.jsx)(ce.a.Label,{children:"Password"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"password",placeholder:"Enter password",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"passwordConfirm",children:[Object(oe.jsx)(ce.a.Label,{children:"Confirm your password"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"password",placeholder:"Confirm your password",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(oe.jsx)(se.a,{type:"submit",variant:"primary",children:"Sign In"}),Object(oe.jsx)(ue.a,{className:"my-4",children:Object(oe.jsxs)(pe.a,{children:["Already have an account?"," ",Object(oe.jsx)(ve.Link,{to:T?"/login?redirect=".concat(T):"/login",children:"Login"})]})})]})]})},mt=r(125);var ft=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(ae.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(""),o=Object(ae.a)(i,2),d=o[0],j=o[1],h=Object(n.useState)(""),O=Object(ae.a)(h,2),x=O[0],m=O[1],f=Object(n.useState)(""),g=Object(ae.a)(f,2),v=g[0],y=g[1],E=Object(n.useState)(""),_=Object(ae.a)(E,2),k=_[0],L=_[1],R=Object(l.b)(),T=Object(l.c)((function(e){return e.userDetails})),w=T.loading,A=T.user,D=T.error,P=Object(l.c)((function(e){return e.userLogin})).userInfo,U=Object(l.c)((function(e){return e.orderListMy})),N=U.loading,G=U.error,F=U.orders;return Object(n.useEffect)((function(){P?A&&A.name?(s(P.name),j(P.email)):(R(ne("profile")),R(function(){var e=Object(p.a)(u.a.mark((function e(t,r){var n,a,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:z}),n=r(),a=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,re.a.get("/api/orders/myorders",c);case 6:s=e.sent,i=s.data,t({type:V,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:J,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[R,A,D,t]),Object(oe.jsxs)(ue.a,{className:"my-4",children:[Object(oe.jsxs)(pe.a,{md:3,children:[Object(oe.jsx)("h2",{children:"User profile"}),D&&Object(oe.jsxs)(Le,{variant:"danger",className:"my-4",children:["Oops! ",D]}),w&&Object(oe.jsx)(Ie,{}),k&&Object(oe.jsxs)(Le,{variant:"danger",className:"my-4",children:["Oops! ",k]}),Object(oe.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),x!=v?L("Passwords do not match"):(R(function(e,t,r){return function(){var n=Object(p.a)(u.a.mark((function n(a,c){var s,i,o,d,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:I}),s=c(),i=s.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},n.next=6,re.a.put("/api/users/profile/update/",{name:e,email:t,password:r},o);case 6:d=n.sent,l=d.data,a({type:S,payload:l}),a({type:b,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),a({type:C,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,t){return n.apply(this,arguments)}}()}(c,d,x)),L(""))},className:"my-4",children:[Object(oe.jsxs)(ce.a.Group,{controlId:"name",children:[Object(oe.jsx)(ce.a.Label,{children:"Name"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"email",children:[Object(oe.jsx)(ce.a.Label,{children:"Email address"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"email",placeholder:"Enter email",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"password",children:[Object(oe.jsx)(ce.a.Label,{children:"Password"}),Object(oe.jsx)(ce.a.Control,{type:"password",placeholder:"Enter password",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"passwordConfirm",children:[Object(oe.jsx)(ce.a.Label,{children:"Confirm your password"}),Object(oe.jsx)(ce.a.Control,{type:"password",placeholder:"Confirm your password",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(oe.jsx)(se.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(oe.jsxs)(pe.a,{md:9,children:[Object(oe.jsx)("h2",{children:"My orders"}),N?Object(oe.jsx)(Ie,{}):G?Object(oe.jsx)(Le,{variant:"danger",children:G}):Object(oe.jsxs)(mt.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(oe.jsx)("thead",{children:Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("th",{children:"ID"}),Object(oe.jsx)("th",{children:"Date"}),Object(oe.jsx)("th",{children:"Total"}),Object(oe.jsx)("th",{children:"Paid"}),Object(oe.jsx)("th",{children:"Delivered"}),Object(oe.jsx)("th",{children:"Order"})]})}),Object(oe.jsx)("tbody",{children:F.map((function(e){return Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("td",{children:e._id}),Object(oe.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(oe.jsxs)("td",{children:[e.totalPrice,"$"]}),Object(oe.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(oe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(oe.jsx)("td",{children:e.isDelivered?Object(oe.jsx)("i",{class:"fas fa-check"}):Object(oe.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(oe.jsx)("td",{children:Object(oe.jsx)(ve.Link,{to:"/order/"+e._id,children:Object(oe.jsx)(se.a,{className:"btn-sm",children:"View order"})})})]},e._id)}))})]})]})]})};var gt=function(e){var t=e.step1,r=e.step2,n=e.step3,a=e.step4;return Object(oe.jsxs)(i.a,{className:"justify-content-center my-4",children:[Object(oe.jsx)(i.a.Item,{children:t?Object(oe.jsx)(d.LinkContainer,{to:"/login",children:Object(oe.jsx)(i.a.Link,{children:"Login"})}):Object(oe.jsx)(i.a.Link,{disabled:!0,children:"Login"})}),Object(oe.jsx)(i.a.Item,{children:r?Object(oe.jsx)(d.LinkContainer,{to:"/shipping",children:Object(oe.jsx)(i.a.Link,{children:"Shipping"})}):Object(oe.jsx)(i.a.Link,{disabled:!0,children:"Shipping"})}),Object(oe.jsx)(i.a.Item,{children:n?Object(oe.jsx)(d.LinkContainer,{to:"/payment",children:Object(oe.jsx)(i.a.Link,{children:"Payment"})}):Object(oe.jsx)(i.a.Link,{disabled:!0,children:"Payment"})}),Object(oe.jsx)(i.a.Item,{children:a?Object(oe.jsx)(d.LinkContainer,{to:"/placeorder",children:Object(oe.jsx)(i.a.Link,{children:"Place Order"})}):Object(oe.jsx)(i.a.Link,{disabled:!0,children:"Place Order"})})]})};var vt=function(e){var t=e.history,r=Object(l.c)((function(e){return e.cart})).shippingAddress,a=Object(n.useState)(r.address),c=Object(ae.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(r.city),d=Object(ae.a)(o,2),j=d[0],h=d[1],b=Object(n.useState)(r.postalCode),O=Object(ae.a)(b,2),x=O[0],m=O[1],f=Object(n.useState)(r.country),g=Object(ae.a)(f,2),v=g[0],y=g[1],E=Object(l.b)();return Object(oe.jsxs)(bt,{children:[Object(oe.jsx)(gt,{step1:!0,step2:!0}),Object(oe.jsx)("h1",{children:" Shipping "}),Object(oe.jsxs)(ce.a,{onSubmit:function(e){var r;e.preventDefault(),E((r={address:s,city:j,postalCode:x,country:v},function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:lt,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")},children:[Object(oe.jsxs)(ce.a.Group,{controlId:"address",children:[Object(oe.jsx)(ce.a.Label,{children:"Address"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"text",placeholder:"Enter address",value:s||"",onChange:function(e){return i(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"city",children:[Object(oe.jsx)(ce.a.Label,{children:"City"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"text",placeholder:"Enter city",value:j||"",onChange:function(e){return h(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"postalCode",children:[Object(oe.jsx)(ce.a.Label,{children:"Postal code"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"text",placeholder:"Enter postal code",value:x||"",onChange:function(e){return m(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"country",children:[Object(oe.jsx)(ce.a.Label,{children:"Country"}),Object(oe.jsx)(ce.a.Control,{required:!0,type:"text",placeholder:"Enter country",value:v||"",onChange:function(e){return y(e.target.value)}})]}),Object(oe.jsx)(se.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var yt=function(e){var t=e.history,r=Object(l.c)((function(e){return e.cart})).shippingAddress,a=Object(l.b)(),c=Object(n.useState)("Stripe"),s=Object(ae.a)(c,2),i=s[0],o=s[1];return r.address||t.push("/shipping"),Object(oe.jsxs)(bt,{children:[Object(oe.jsx)(gt,{step1:!0,step2:!0,step3:!0}),Object(oe.jsxs)(ce.a,{onSubmit:function(e){var r;e.preventDefault(),a((r=i,function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:jt,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")},children:[Object(oe.jsxs)(ce.a.Group,{children:[Object(oe.jsx)(ce.a.Label,{as:"legend",children:"Select Method"}),Object(oe.jsx)(pe.a,{children:Object(oe.jsx)(ce.a.Check,{type:"radio",label:"Stripe",id:"Stripe",name:"paymentMethod",checked:!0,onChange:function(e){return o(e.target.value)}})})]}),Object(oe.jsx)(se.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var Et=function(e){var t=e.history,r=Object(l.b)(),a=Object(l.c)((function(e){return e.cart})),c=Object(l.c)((function(e){return e.orderCreate})),s=c.order,i=c.error,o=c.success,d=Object(l.c)((function(e){return e.userLogin})).userInfo;return a.itemsPrice=a.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2),a.shippingPrice=a.itemsPrice>100?0:10,a.taxPrice=(.2*a.itemsPrice).toFixed(2),a.totalPrice=(Number(a.itemsPrice)+Number(a.shippingPrice)+Number(a.taxPrice)).toFixed(2),a.shippingAddress.address||t.push("/shipping"),a.paymentMethod||t.push("/payment"),Object(n.useEffect)((function(){o&&(t.push("/order/".concat(s._id)),r({type:M}))}),[o,t]),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(gt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{md:8,children:Object(oe.jsxs)(st.a,{variant:"flush",children:[Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h2",{children:"Shipping"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("strong",{children:"Shipping: "}),a.shippingAddress.address,", ",a.shippingAddress.city,"   ",a.shippingAddress.postalCode,"   ",a.shippingAddress.country]})]}),Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h2",{children:"Payment Method"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("strong",{children:"Payment: "}),a.paymentMethod]})]}),Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h2",{children:"Order Items"}),0===a.cartItems.length?Object(oe.jsx)(Le,{variant:"info",children:"Your cart is empty"}):Object(oe.jsx)(st.a,{variant:"flush",children:a.cartItems.map((function(e,t){return Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{md:1,children:Object(oe.jsx)(Te.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(oe.jsx)(pe.a,{children:Object(oe.jsx)(ve.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(oe.jsxs)(pe.a,{md:4,children:[e.qty," X ",e.price,"$ ="," ",(e.qty*e.price).toFixed(2),"$"]})]})},t)}))})]})]})}),Object(oe.jsx)(pe.a,{md:4,children:Object(oe.jsx)(fe.a,{children:Object(oe.jsxs)(st.a,{variant:"flush",children:[Object(oe.jsx)(st.a.Item,{children:Object(oe.jsx)("h2",{children:"Order Summary"})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Items:"}),Object(oe.jsxs)(pe.a,{children:[a.itemsPrice,"$"]})]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Shipping:"}),Object(oe.jsxs)(pe.a,{children:[a.shippingPrice,"$"]})]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Tax Price:"}),Object(oe.jsxs)(pe.a,{children:[a.taxPrice,"$"]})]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Total Price:"}),Object(oe.jsxs)(pe.a,{children:[a.totalPrice,"$"]})]})}),Object(oe.jsx)(st.a.Item,{children:i&&Object(oe.jsx)(Le,{variant:"danger",children:i})}),Object(oe.jsx)(st.a.Item,{children:d?Object(oe.jsx)(se.a,{type:"button",className:"btn-block",disabled:0===a.cartItems,onClick:function(){r(function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,n){var a,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:G}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,re.a.post("/api/orders/add/",e,s);case 6:i=t.sent,o=i.data,r({type:F,payload:o}),r({type:ut,payload:o}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:B,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:a.cartItems,shippingAddress:a.shippingAddress,paymentMethod:a.paymentMethod,itemsPrice:a.itemsPrice,shippingPrice:a.shippingPrice,taxPrice:a.taxPrice,totalPrice:a.totalPrice}))},children:"Place Order"}):Object(oe.jsxs)(Le,{variant:"info",children:["You must log in before finishing the order,",Object(oe.jsx)(ve.Link,{to:"/login",children:"here."})]})})]})})})]})]})},It=r(79),St=Object(It.a)("pk_test_51IT6IwHbJhOfoAEvYBPNjlpDboyqz87KN0M3EZ3eBTwZCjACXXRRfiPB598KGbTkVE563k7lyxxUlLMdTYuIYz0200Qideg8UN");var Ct=function(e){var t=e.match.params.id,r=Object(l.b)(),a=Object(l.c)((function(e){return e.orderDetails})),c=a.order,s=a.error,i=a.loading,o=Object(l.c)((function(e){return e.orderDelivered})),d=o.success,j=(o.error,o.loading,Object(l.c)((function(e){return e.userLogin})).userInfo);i||s||!c||(c.orderPrice=c.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)),Object(n.useEffect)((function(){var e;c&&c._id===Number(c.id)&&!d||(r({type:"ORDER_DELIVERED_RESET"}),r((e=t,function(){var t=Object(p.a)(u.a.mark((function t(r,n){var a,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:q}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,re.a.get("/api/orders/".concat(e),s);case 6:i=t.sent,o=i.data,r({type:Q,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:$,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}())))}),[r,d]);var h=function(){var e=Object(p.a)(u.a.mark((function e(t){var r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St;case 2:return r=e.sent,e.next=5,re.a.post("/api/orders/create-checkout-session/",{order:c._id});case 5:return n=e.sent,a=n.data,e.next=9,r.redirectToCheckout({sessionId:a.id});case 9:e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?Object(oe.jsx)(Ie,{}):s?Object(oe.jsx)(Le,{variant:"danger",children:s}):Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("h1",{children:["Order: ",t]}),Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{md:8,children:Object(oe.jsxs)(st.a,{variant:"flush",children:[Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h2",{children:"Shipping"}),Object(oe.jsx)("p",{children:Object(oe.jsxs)("strong",{children:["Name: ",c.user.name]})}),Object(oe.jsx)("p",{children:Object(oe.jsxs)("strong",{children:["Email: ",c.user.email]})}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("strong",{children:"Shipping: "}),c.shippingAddress.address,", ",c.shippingAddress.city,"   ",c.shippingAddress.postalCode,"   ",c.shippingAddress.country]}),c.isDelivered?Object(oe.jsxs)(Le,{variant:"success",children:["Delivered on ",c.deliveredAt]}):Object(oe.jsx)(Le,{variant:"warning",children:"Order is not delivered"})]}),Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h2",{children:"Payment Method"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("strong",{children:"Payment: "}),c.paymentMethod]}),c.isPaid?Object(oe.jsxs)(Le,{variant:"success",children:["Paid on ",c.paidAt]}):Object(oe.jsx)(Le,{variant:"warning",children:"Order is not paid"})]}),Object(oe.jsxs)(st.a.Item,{children:[Object(oe.jsx)("h2",{children:"Order Items"}),0===c.orderItems.length?Object(oe.jsx)(Le,{variant:"info",children:"Order is empty"}):Object(oe.jsx)(st.a,{variant:"flush",children:c.orderItems.map((function(e,t){return Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{md:1,children:Object(oe.jsx)(Te.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(oe.jsx)(pe.a,{children:Object(oe.jsx)(ve.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(oe.jsxs)(pe.a,{md:4,children:[e.qty," X ",e.price,"$ ="," ",(e.qty*e.price).toFixed(2),"$"]})]})},t)}))})]})]})}),Object(oe.jsx)(pe.a,{md:4,children:Object(oe.jsx)(fe.a,{children:Object(oe.jsxs)(st.a,{variant:"flush",children:[Object(oe.jsx)(st.a.Item,{children:Object(oe.jsx)("h2",{children:"Order Summary"})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Items:"}),Object(oe.jsxs)(pe.a,{children:[c.orderPrice,"$"]})]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Shipping:"}),Object(oe.jsxs)(pe.a,{children:[c.shippingPrice,"$"]})]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Tax Price:"}),Object(oe.jsxs)(pe.a,{children:[c.taxPrice,"$"]})]})}),Object(oe.jsx)(st.a.Item,{children:Object(oe.jsxs)(ue.a,{children:[Object(oe.jsx)(pe.a,{children:"Total Price:"}),Object(oe.jsxs)(pe.a,{children:[c.totalPrice,"$"]})]})}),c.isPaid?Object(oe.jsxs)(se.a,{role:"link",className:"btn btn-block primary",disabled:!0,children:[" ","Order is paid already"]}):Object(oe.jsxs)(se.a,{role:"link",className:"btn btn-block primary",onClick:h,children:[" ","Pay Stripe"]}),j&&j.isAdmin&&c.isPaid&&!c.isDelivered&&Object(oe.jsxs)(se.a,{role:"link",className:"btn btn-block primary",onClick:function(){r(function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,n){var a,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:K}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,re.a.put("/api/orders/".concat(e._id,"/delivered/"),{},s);case 6:i=t.sent,o=i.data,r({type:Z,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ee,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(c))},children:[" ","Mark as Delivered"]})]})})})]})]})};var _t=function(){var e=Object(l.c)((function(e){return e.userList})),t=e.loading,r=e.error,a=e.users,c=Object(l.c)((function(e){return e.userDelete})).success,s=Object(l.b)();Object(n.useEffect)((function(){s(function(){var e=Object(p.a)(u.a.mark((function e(t,r){var n,a,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_}),n=r(),a=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,re.a.get("/api/users/",c);case 6:s=e.sent,i=s.data,t({type:k,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:L,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())}),[s,c]);var i=function(e){window.confirm("Are your sure you want to delete this user?")&&s(function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,n){var a,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:T}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,re.a.delete("/api/users/delete/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:w,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:A,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(oe.jsxs)("div",{children:[Object(oe.jsx)("h1",{className:"my-4",children:"Users"}),t?Object(oe.jsx)(Ie,{}):r?Object(oe.jsx)(Le,{variant:"danger",children:r}):Object(oe.jsxs)(mt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(oe.jsx)("thead",{children:Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("th",{children:"ID"}),Object(oe.jsx)("th",{children:"Name"}),Object(oe.jsx)("th",{children:"Email"}),Object(oe.jsx)("th",{children:"Admin"}),Object(oe.jsx)("th",{children:"Actions"})]})}),Object(oe.jsx)("tbody",{children:a.map((function(e){return Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("td",{children:e._id}),Object(oe.jsx)("td",{children:e.name}),Object(oe.jsx)("td",{children:e.email}),Object(oe.jsx)("td",{children:e.isAdmin?Object(oe.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(oe.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(oe.jsxs)("td",{children:[Object(oe.jsx)(d.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(oe.jsx)(se.a,{className:"btn-sm",children:"Edit"})}),Object(oe.jsx)(se.a,{className:"ml-1 btn-sm",children:Object(oe.jsx)("i",{className:"fas fa-trash",onClick:function(){return i(e._id)}})})]})]},e._id)}))})]})]})};var kt=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(n.useState)(""),s=Object(ae.a)(c,2),i=s[0],o=s[1],d=Object(n.useState)(""),j=Object(ae.a)(d,2),u=j[0],p=j[1],h=Object(n.useState)(!1),b=Object(ae.a)(h,2),O=b[0],x=b[1],m=Object(l.b)(),f=Object(l.c)((function(e){return e.userDetails})),g=f.loading,v=f.user,y=f.error,E=Object(l.c)((function(e){return e.userUpdate})),I=E.error,S=E.success;return Object(n.useEffect)((function(){S&&(m({type:N}),r.push("/admin/userlist/")),v.name&&v._id==a?(o(v.name),p(v.email),x(v.isAdmin)):m(ne(a))}),[v,S]),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ve.Link,{to:"/admin/userlist/",className:"btn btn-primary my-4",children:"Go Back"}),Object(oe.jsxs)(bt,{children:[Object(oe.jsx)("h1",{className:"my-4",children:"Edit User"}),I&&Object(oe.jsx)(Le,{variant:"danger",children:I}),g?Object(oe.jsx)(Ie,{}):y?Object(oe.jsx)(Le,{variant:"danger",children:y}):Object(oe.jsxs)(ce.a,{onSubmit:function(e){var t,r;e.preventDefault(),m((t=a,r={name:i,email:u,isAdmin:O},function(e,n){try{e({type:D});var a=n().userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},s=re.a.put("/api/users/update/".concat(t,"/"),r,c).data;e({type:P,payload:s})}catch(y){e({type:U,payload:y.response&&y.response.data.detail?y.response.data.detail:y.message})}})),m(ne(a))},className:"my-4",children:[Object(oe.jsxs)(ce.a.Group,{controlId:"name",children:[Object(oe.jsx)(ce.a.Label,{children:"Name"}),Object(oe.jsx)(ce.a.Control,{type:"name",placeholder:"Enter name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"email",children:[Object(oe.jsx)(ce.a.Label,{children:"Email address"}),Object(oe.jsx)(ce.a.Control,{type:"email",placeholder:"Enter email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsx)(ce.a.Group,{controlId:"isadmin",children:Object(oe.jsx)(ce.a.Check,{type:"checkbox",label:"Is Admin",checked:O,onChange:function(e){return x(e.target.checked)}})}),Object(oe.jsx)(se.a,{type:"submit",variant:"primary",children:"Sign In"})]})]})]})};var Lt=function(e){var t=e.history,r=(e.match,Object(l.c)((function(e){return e.productList}))),a=r.loading,c=r.error,s=r.products,i=r.pages,o=r.page,j=Object(l.c)((function(e){return e.productCreate})),h=(j.loading,j.error),b=j.success,O=j.product,x=Object(l.c)((function(e){return e.userLogin})).userInfo,m=Object(l.c)((function(e){return e.productDelete})),f=m.success,g=m.error,v=Object(l.b)(),y=t.location.search;Object(n.useEffect)((function(){v({type:$e}),v({type:Ye}),x&&x.isAdmin?b?t.push("/admin/product/".concat(O._id,"/edit/")):v(rt(y)):t.push("/login")}),[v,t,x,f,b,y]);var E=function(e){window.confirm("Are your sure you want to delete this product?")&&v(function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,n){var a,c,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ge}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,re.a.delete("/api/products/delete/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:Fe,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Be,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(oe.jsxs)("div",{children:[Object(oe.jsxs)(ue.a,{className:"align-items-center",children:[Object(oe.jsx)(pe.a,{children:Object(oe.jsx)("h1",{children:"Products"})}),Object(oe.jsx)(pe.a,{className:"text-right",children:Object(oe.jsxs)(se.a,{className:"my-3",onClick:function(){v(function(){var e=Object(p.a)(u.a.mark((function e(t,r){var n,a,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Me}),n=r(),a=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,re.a.post("/api/products/create/",{},c);case 6:s=e.sent,i=s.data,t({type:qe,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Qe,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},children:[Object(oe.jsx)("i",{className:"fas fa-plus"})," Create Button"]})})]}),g&&Object(oe.jsx)(Le,{variant:"danger",children:g}),h&&Object(oe.jsx)(Le,{variant:"danger",children:h}),a?Object(oe.jsx)(Ie,{}):c?Object(oe.jsx)(Le,{variant:"danger",children:c}):Object(oe.jsx)("div",{children:Object(oe.jsxs)(mt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(oe.jsx)("thead",{children:Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("th",{children:"ID"}),Object(oe.jsx)("th",{children:"Name"}),Object(oe.jsx)("th",{children:"Price"}),Object(oe.jsx)("th",{children:"Category"}),Object(oe.jsx)("th",{children:"Brand"}),Object(oe.jsx)("th",{children:"Functions"})]})}),Object(oe.jsx)("tbody",{children:s.map((function(e){return Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("td",{children:e._id}),Object(oe.jsx)("td",{children:e.name}),Object(oe.jsx)("td",{children:e.price}),Object(oe.jsx)("td",{children:e.category}),Object(oe.jsx)("td",{children:e.brand}),Object(oe.jsxs)("td",{children:[Object(oe.jsx)(d.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(oe.jsx)(se.a,{className:"btn-sm",children:"Edit"})}),Object(oe.jsx)(se.a,{className:"ml-1 btn-sm",children:Object(oe.jsx)("i",{className:"fas fa-trash",onClick:function(){return E(e._id)}})})]})]},e._id)}))})]})}),Object(oe.jsx)(_e,{page:o,pages:i,isAdmin:!0})]})};var Rt=function(e){var t=e.match,r=e.history,a=t.params.id,c=Object(n.useState)(""),s=Object(ae.a)(c,2),i=s[0],o=s[1],d=Object(n.useState)(0),j=Object(ae.a)(d,2),h=j[0],b=j[1],O=Object(n.useState)(""),x=Object(ae.a)(O,2),m=x[0],f=x[1],g=Object(n.useState)(""),v=Object(ae.a)(g,2),y=v[0],E=v[1],I=Object(n.useState)(""),S=Object(ae.a)(I,2),C=S[0],_=S[1],k=Object(n.useState)(0),L=Object(ae.a)(k,2),R=L[0],T=L[1],w=Object(n.useState)(""),A=Object(ae.a)(w,2),D=A[0],P=A[1],U=Object(n.useState)(!1),N=Object(ae.a)(U,2),G=N[0],F=N[1],B=Object(l.b)(),M=Object(l.c)((function(e){return e.productDetails})),q=M.loading,Q=M.product,$=M.error,z=Object(l.c)((function(e){return e.productUpdate})),V=(z.loading,z.error),J=z.success;Object(n.useEffect)((function(){J&&r.push("/admin/productlist/"),Q.name&&Q._id==a?(o(Q.name),b(Q.price),f(Q.image),E(Q.brand),_(Q.category),T(Q.countInStock),P(Q.description)):B(nt(a))}),[Q._id,J]);var Y=function(){var e=Object(p.a)(u.a.mark((function e(t){var r,n,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(n=new FormData).append("image",r),n.append("product_id",a),F(!0),e.prev=5,c={headers:{"Content-Type":"multipart/form-data"}},e.next=9,re.a.post("/api/products/upload/",n,c);case 9:s=e.sent,i=s.data,f(i),F(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),F(!1);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(ve.Link,{to:"/admin/productlist/",className:"btn btn-primary my-4",children:"Go Back"}),Object(oe.jsxs)(bt,{children:[Object(oe.jsx)("h1",{className:"my-4",children:"Edit Product"}),V&&Object(oe.jsx)(Le,{variant:"danger",children:V}),q?Object(oe.jsx)(Ie,{}):$?Object(oe.jsx)(Le,{variant:"danger",children:$}):Object(oe.jsxs)(ce.a,{onSubmit:function(e){var t,r;e.preventDefault(),B((t=a,r={name:i,price:h,image:m,brand:y,category:C,countInStock:R,description:D},function(){var e=Object(p.a)(u.a.mark((function e(n,a){var c,s,i,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:ze}),c=a(),s=c.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,re.a.put("/api/products/update/".concat(t,"/"),r,i);case 6:o=e.sent,d=o.data,n({type:Ve,payload:d}),n({type:Ue,payload:d}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n({type:Je,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()))},className:"my-4",children:[Object(oe.jsxs)(ce.a.Group,{controlId:"name",children:[Object(oe.jsx)(ce.a.Label,{children:"Name"}),Object(oe.jsx)(ce.a.Control,{type:"name",placeholder:"Enter name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"price",children:[Object(oe.jsx)(ce.a.Label,{children:"Price"}),Object(oe.jsx)(ce.a.Control,{type:"number",placeholder:"Enter price",value:h,onChange:function(e){return b(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"image",children:[Object(oe.jsx)(ce.a.Label,{children:"Image"}),Object(oe.jsx)(ce.a.Control,{type:"text",placeholder:"Enter image",value:m,onChange:function(e){return f(e.target.value)}}),Object(oe.jsx)(ce.a.File,{id:"image-file",label:"Choose file",custom:!0,onChange:Y}),G&&Object(oe.jsx)(Ie,{})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"brand",children:[Object(oe.jsx)(ce.a.Label,{children:"Brand"}),Object(oe.jsx)(ce.a.Control,{type:"text",placeholder:"Enter brand",value:y,onChange:function(e){return E(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"countInStock",children:[Object(oe.jsx)(ce.a.Label,{children:"In stock"}),Object(oe.jsx)(ce.a.Control,{type:"number",placeholder:"Enter amount in stock",value:R,onChange:function(e){return T(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"category",children:[Object(oe.jsx)(ce.a.Label,{children:"Category"}),Object(oe.jsx)(ce.a.Control,{type:"text",placeholder:"Enter category",value:C,onChange:function(e){return _(e.target.value)}})]}),Object(oe.jsxs)(ce.a.Group,{controlId:"description",children:[Object(oe.jsx)(ce.a.Label,{children:"Description"}),Object(oe.jsx)(ce.a.Control,{type:"text",placeholder:"Enter description",value:D,onChange:function(e){return P(e.target.value)}})]}),Object(oe.jsx)(se.a,{type:"submit",variant:"primary",children:"Edit"})]})]})]})};var Tt=function(e){var t=e.history,r=Object(l.c)((function(e){return e.orderList})),a=r.loading,c=r.error,s=r.orders,i=Object(l.c)((function(e){return e.userLogin})).userInfo,o=Object(l.b)();return Object(n.useEffect)((function(){i&&i.isAdmin?o(function(){var e=Object(p.a)(u.a.mark((function e(t,r){var n,a,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:W}),n=r(),a=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,re.a.get("/api/orders/",c);case 6:s=e.sent,i=s.data,t({type:H,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:X,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[o]),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("h1",{className:"my-4",children:"Orders"}),a?Object(oe.jsx)(Ie,{}):c?Object(oe.jsx)(Le,{variant:"danger",children:c}):Object(oe.jsxs)(mt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(oe.jsx)("thead",{children:Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("th",{children:"ID"}),Object(oe.jsx)("th",{children:"USER"}),Object(oe.jsx)("th",{children:"DATE"}),Object(oe.jsx)("th",{children:"TOTAL"}),Object(oe.jsx)("th",{children:"PAID"}),Object(oe.jsx)("th",{children:"DELIVERED"}),Object(oe.jsx)("th",{children:"Actions"})]})}),Object(oe.jsx)("tbody",{children:s.map((function(e){return Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("td",{children:e._id}),Object(oe.jsx)("td",{children:e.user&&e.user.name}),Object(oe.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(oe.jsx)("td",{children:e.totalPrice}),Object(oe.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(oe.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(oe.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(oe.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(oe.jsx)("td",{children:Object(oe.jsx)(d.LinkContainer,{to:"/order/".concat(e._id),children:Object(oe.jsx)(se.a,{className:"btn-sm",children:"About"})})})]},e._id)}))})]})]})};var wt=function(){return Object(oe.jsxs)(ve.HashRouter,{children:[Object(oe.jsx)(le,{}),Object(oe.jsxs)(je.a,{children:[Object(oe.jsx)(ie.d,{path:"/",component:ct,exact:!0}),Object(oe.jsx)(ie.d,{path:"/product/:id",component:it}),Object(oe.jsx)(ie.d,{path:"/cart/:id?",component:ht}),Object(oe.jsx)(ie.d,{path:"/login",component:Ot}),Object(oe.jsx)(ie.d,{path:"/register",component:xt}),Object(oe.jsx)(ie.d,{path:"/shipping",component:vt}),Object(oe.jsx)(ie.d,{path:"/profile",component:ft}),Object(oe.jsx)(ie.d,{path:"/payment",component:yt}),Object(oe.jsx)(ie.d,{path:"/placeorder",component:Et}),Object(oe.jsx)(ie.d,{path:"/order/:id",component:Ct}),Object(oe.jsx)(ie.d,{path:"/admin/userlist",component:_t}),Object(oe.jsx)(ie.d,{path:"/admin/user/:id/edit",component:kt}),Object(oe.jsx)(ie.d,{path:"/admin/productlist/",component:Lt}),Object(oe.jsx)(ie.d,{path:"/admin/product/:id/edit",component:Rt}),Object(oe.jsx)(ie.d,{path:"/admin/orderlist/",component:Tt})]}),Object(oe.jsx)(he,{})]})},At=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,135)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},Dt=(r(115),r(34)),Pt=r(80),Ut=r(81),Nt=r(20),Gt=Object(Dt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return{loading:!0,products:[]};case Ae:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case De:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{loading:!0,product:{}};case Ue:return{loading:!1,product:t.payload};case Ne:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return{loading:!0};case Fe:return{loading:!1,success:!0};case Be:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return{loading:!0};case qe:return{loading:!1,success:!0,product:t.payload};case Qe:return{loading:!1,error:t.payload};case $e:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return{loading:!0};case Ve:return{loading:!1,success:!0,product:t.payload};case Je:return{loading:!1,error:t.payload};case Ye:return{};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return{loading:!0};case He:return{loading:!1,success:!0};case Xe:return{loading:!1,error:t.payload};case Ke:return{};default:return e}},productTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{topProducts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return{loading:!0};case et:return{loading:!1,topProducts:t.payload};case tt:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:var r=t.payload,n=e.cartItems.find((function(e){return e.product===r.product}));return n?Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?r:e}))}):Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:[].concat(Object(Se.a)(e.cartItems),[r])});case dt:return Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case lt:return Object(Nt.a)(Object(Nt.a)({},e),{},{shippingAddress:t.payload});case jt:return Object(Nt.a)(Object(Nt.a)({},e),{},{paymentMethod:t.payload});case ut:return Object(Nt.a)(Object(Nt.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case b:return{loading:!1,userInfo:t.payload};case O:return{loading:!1,error:t.payload};case x:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case f:return{loading:!1,userInfo:t.payload};case g:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(Nt.a)(Object(Nt.a)({},e),{},{loading:!0});case y:return{loading:!1,user:t.payload};case E:return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case S:return{loading:!1,userInfo:t.payload,success:!0};case C:return{loading:!1,error:t.payload};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case k:return{loading:!1,users:t.payload};case L:return{loading:!1,error:t.payload};case R:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case w:return{loading:!1,success:!0};case A:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case P:return{loading:!1,updatedUser:t.payload,success:!0};case U:return{loading:!1,error:t.payload};case N:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case F:return{loading:!1,success:!0,order:t.payload};case B:return{loading:!1,error:t.payload};case M:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return{loading:!0};case Q:return{loading:!1,order:t.payload};case $:return{loading:!1,error:t.payload};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case V:return{loading:!1,orders:t.payload};case J:return{loading:!1,error:t.payload};case Y:return{orders:{}};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case H:return{loading:!1,orders:t.payload};case X:return{loading:!1,error:t.payload};default:return e}},orderDelivered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case Z:return{loading:!1,success:!0};case ee:return{loading:!1,error:t.payload};default:return e}}}),Ft=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Bt=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Mt={cart:{cartItems:Ft,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Bt}},qt=[Pt.a],Qt=Object(Dt.createStore)(Gt,Mt,Object(Ut.composeWithDevTools)(Dt.applyMiddleware.apply(void 0,qt)));c.a.render(Object(oe.jsx)(l.a,{store:Qt,children:Object(oe.jsx)(wt,{})}),document.getElementById("root")),At()},86:function(e,t,r){}},[[116,1,2]]]);
//# sourceMappingURL=main.61876960.chunk.js.map